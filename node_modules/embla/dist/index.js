!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.embla=t()}(this,function(){"use strict";function l(o){for(var n=1;n<arguments.length;n++){var u=null!=arguments[n]?arguments[n]:{},t=Object.keys(u);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(u).filter(function(n){return Object.getOwnPropertyDescriptor(u,n).enumerable}))),t.forEach(function(n){var t,r,e;t=o,e=u[r=n],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e})}return o}function m(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=[],e=!0,o=!1,u=void 0;try{for(var i,f=n[Symbol.iterator]();!(e=(i=f.next()).done)&&(r.push(i.value),!t||r.length!==t);e=!0);}catch(n){o=!0,u=n}finally{try{e||null==f.return||f.return()}finally{if(o)throw u}}return r}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(n){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.reduce(function(n,t){return function(){return n(t.apply(void 0,arguments))}})},f=function(o){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];clearTimeout(e),e=setTimeout(function(){return o.apply(void 0,t)},u)}}()},a=function(r){return function(t){return function(n){return s(t.update,(c=n,function(n){return n.map(function(n){var t=m(n,2),r=t[0],e=t[1],o=r.manifest,u=r.extraArgument;return e.mount?(s(o.mount,o.default)(c,u),[r,l({},e,{mount:!1})]):[r,e]})}),(i=n,function(n){return n.map(function(n){var t=m(n,2),r=t[0],e=t[1],o=r.manifest,u=r.extraArgument;return e.unmount?(o.unmount(i,u),[r,l({},e,{unmount:!1})]):[r,e]})}),(f=r,a=n,function(i){return i.map(function(n,r){var t=m(n,2),e=t[0],o=t[1],u=void 0===o?{show:!1,mount:!1,unmount:!1}:o;return"function"==typeof e.manifest&&(e.manifest=e.manifest(e.extraArgument),"function"==typeof e.manifest.then)?(e.manifest.then(function(n){var t={manifest:n,isShow:e.isShow};i.set(r,[t,u]),f()}),[e,u]):!e.isShow(a)&&u.show?[e,l({},u,{show:!1,unmount:!0})]:e.isShow(a)&&!u.show?[e,l({},u,{show:!0,mount:!0})]:[e,u]})}))(t);var f,a,i,c}}};return function(n){var r,e=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return{add:function(n){r=[].concat(i(r),[n])},map:function(n){return r.map(n)},clear:function(){r=[]},update:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];r=n},get:function(n){return r[n]},set:function(n,t){r[n]=t}}}(),o=s(function(t){return function(n){return t(n?r=n:r)}},f,a(function(){return o()}))(e),t=n(o),u=function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){})(t),e.clear()};return u.child=function(n,t,r){return o(void e.add([{manifest:n,isShow:t,extraArgument:r}]))},u}});
